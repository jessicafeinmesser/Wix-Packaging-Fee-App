{"version":3,"file":"plugin.mjs","sources":["../../../node_modules/@wix/sdk-types/build/browser/index.mjs","../../../node_modules/@wix/sdk-runtime/build/transformations/float.js","../../../node_modules/@wix/sdk-runtime/build/transformations/transform-paths.js","../../../node_modules/@wix/sdk-runtime/build/constants.js","../../../node_modules/@wix/sdk-runtime/build/rename-all-nested-keys.js","../../../node_modules/@wix/sdk-context/build/browser/index.mjs","../../../node_modules/@wix/sdk-runtime/build/context.js","../../../node_modules/@wix/sdk-runtime/build/context-v2.js","../../../node_modules/@wix/sdk-runtime/build/service-plugin-modules.js","../../../node_modules/@wix/sdk-runtime/build/utils.js","../../../node_modules/@wix/sdk-runtime/build/transformations/address.js","../../../node_modules/@wix/ecom_additional-fees/build/es/src/interfaces-ecommerce-v1-additional-fees-provider.public.js","../../../node_modules/@wix/ecom_additional-fees/build/es/src/interfaces-ecommerce-v1-additional-fees-provider.context.js","../../../node_modules/@wix/sdk-runtime/build/rest-modules.js","../../../node_modules/@wix/essentials/build/http-client.js","../../../src/backend/service-plugins/ecom-additional-fees/package-fee-plugin/plugin.ts"],"sourcesContent":["// src/event-handlers-modules.ts\nfunction EventDefinition(type, isDomainEvent = false, transformations = (x) => x) {\n  return () => ({\n    __type: \"event-definition\",\n    type,\n    isDomainEvent,\n    transformations\n  });\n}\n\n// src/service-plugins.ts\nfunction ServicePluginDefinition(componentType, methods) {\n  return {\n    __type: \"service-plugin-definition\",\n    componentType,\n    methods\n  };\n}\nvar SERVICE_PLUGIN_ERROR_TYPE = \"wix_spi_error\";\nexport {\n  EventDefinition,\n  SERVICE_PLUGIN_ERROR_TYPE,\n  ServicePluginDefinition\n};\n","export function transformSDKFloatToRESTFloat(val) {\n    return isFinite(val) ? val : val.toString();\n}\nexport function transformRESTFloatToSDKFloat(val) {\n    if (val === 'NaN') {\n        return NaN;\n    }\n    if (val === 'Infinity') {\n        return Infinity;\n    }\n    if (val === '-Infinity') {\n        return -Infinity;\n    }\n    return val;\n}\n","function transformPath(obj, { path, isRepeated, isMap, }, transformFn) {\n    const pathParts = path.split('.');\n    if (pathParts.length === 1 && path in obj) {\n        obj[path] = isRepeated\n            ? obj[path].map(transformFn)\n            : isMap\n                ? Object.fromEntries(Object.entries(obj[path]).map(([key, value]) => [key, transformFn(value)]))\n                : transformFn(obj[path]);\n        return obj;\n    }\n    const [first, ...rest] = pathParts;\n    if (first.endsWith('{}')) {\n        const cleanPath = first.slice(0, -2);\n        obj[cleanPath] = Object.fromEntries(Object.entries(obj[cleanPath]).map(([key, value]) => [\n            key,\n            transformPath(value, { path: rest.join('.'), isRepeated, isMap }, transformFn),\n        ]));\n    }\n    else if (Array.isArray(obj[first])) {\n        obj[first] = obj[first].map((item) => transformPath(item, { path: rest.join('.'), isRepeated, isMap }, transformFn));\n    }\n    else if (first in obj &&\n        typeof obj[first] === 'object' &&\n        obj[first] !== null) {\n        obj[first] = transformPath(obj[first], { path: rest.join('.'), isRepeated, isMap }, transformFn);\n    }\n    return obj;\n}\nexport function transformPaths(obj, transformations) {\n    return transformations.reduce((acc, { paths, transformFn }) => paths.reduce((transformerAcc, path) => transformPath(transformerAcc, path, transformFn), acc), obj);\n}\n","export const WIX_PROTOCOL = 'wix:';\nexport const SDKRequestToRESTRequestRenameMap = {\n    _id: 'id',\n    _createdDate: 'createdDate',\n    _updatedDate: 'updatedDate',\n};\nexport const RESTResponseToSDKResponseRenameMap = {\n    id: '_id',\n    createdDate: '_createdDate',\n    updatedDate: '_updatedDate',\n};\nexport const ITEMS_RESULT_PROPERTY_NAME = 'items';\nexport const PAGING_METADATA_RESULT_PROPERTY_NAME = 'pagingMetadata';\nexport const DEFAULT_LIMIT = 50;\n","import { RESTResponseToSDKResponseRenameMap, SDKRequestToRESTRequestRenameMap, } from './constants.js';\n/**\n * Recursively rename nested keys provided in `renameMap` in the given object.\n * Providing a list of paths to ignore will prevent renaming of keys in nested objects.\n *\n * Paths are provided in the format of 'path.to.nested.field'\n * @param payload The object to rename keys for\n * @param renameMap A map of keys to rename, where the key is the original key and the value is the new key\n * @param ignorePaths Paths of nested fields to ignore while traversing the object\n * @returns The object with renamed keys\n */\nexport function renameAllNestedKeys(payload, renameMap, ignorePaths) {\n    const isIgnored = (path) => ignorePaths.includes(path);\n    const traverse = (obj, path) => {\n        if (Array.isArray(obj)) {\n            obj.forEach((item) => {\n                traverse(item, path);\n            });\n        }\n        else if (typeof obj === 'object' && obj !== null) {\n            const objAsRecord = obj;\n            Object.keys(objAsRecord).forEach((key) => {\n                const newPath = path === '' ? key : `${path}.${key}`;\n                if (isIgnored(newPath)) {\n                    return;\n                }\n                if (key in renameMap && !(renameMap[key] in objAsRecord)) {\n                    objAsRecord[renameMap[key]] = objAsRecord[key];\n                    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                    delete objAsRecord[key];\n                }\n                traverse(objAsRecord[key], newPath);\n            });\n        }\n    };\n    traverse(payload, '');\n    return payload;\n}\nexport function renameKeysFromSDKRequestToRESTRequest(payload, ignorePaths = []) {\n    return renameAllNestedKeys(payload, SDKRequestToRESTRequestRenameMap, ignorePaths);\n}\nexport function renameKeysFromRESTResponseToSDKResponse(payload, ignorePaths = []) {\n    return renameAllNestedKeys(payload, RESTResponseToSDKResponseRenameMap, ignorePaths);\n}\n","// src/index.ts\nvar wixContext = {};\nexport {\n  wixContext\n};\n","import { wixContext } from '@wix/sdk-context';\nexport function resolveContext() {\n    const oldContext = typeof $wixContext !== 'undefined' && $wixContext.initWixModules\n        ? $wixContext.initWixModules\n        : typeof globalThis.__wix_context__ !== 'undefined' &&\n            globalThis.__wix_context__.initWixModules\n            ? globalThis.__wix_context__.initWixModules\n            : undefined;\n    if (oldContext) {\n        return {\n            // @ts-expect-error\n            initWixModules(modules, elevated) {\n                return runWithoutContext(() => oldContext(modules, elevated));\n            },\n            fetchWithAuth() {\n                throw new Error('fetchWithAuth is not available in this context');\n            },\n            graphql() {\n                throw new Error('graphql is not available in this context');\n            },\n        };\n    }\n    const contextualClient = typeof $wixContext !== 'undefined'\n        ? $wixContext.client\n        : typeof wixContext.client !== 'undefined'\n            ? wixContext.client\n            : typeof globalThis.__wix_context__ !== 'undefined'\n                ? globalThis.__wix_context__.client\n                : undefined;\n    const elevatedClient = typeof $wixContext !== 'undefined'\n        ? $wixContext.elevatedClient\n        : typeof wixContext.elevatedClient !== 'undefined'\n            ? wixContext.elevatedClient\n            : typeof globalThis.__wix_context__ !== 'undefined'\n                ? globalThis.__wix_context__.elevatedClient\n                : undefined;\n    if (!contextualClient && !elevatedClient) {\n        return;\n    }\n    return {\n        initWixModules(wixModules, elevated) {\n            if (elevated) {\n                if (!elevatedClient) {\n                    throw new Error('An elevated client is required to use elevated modules. Make sure to initialize the Wix context with an elevated client before using elevated SDK modules');\n                }\n                return runWithoutContext(() => elevatedClient.use(wixModules));\n            }\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return runWithoutContext(() => contextualClient.use(wixModules));\n        },\n        fetchWithAuth: (urlOrRequest, requestInit) => {\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return contextualClient.fetchWithAuth(urlOrRequest, requestInit);\n        },\n        async graphql(query, variables, opts) {\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return contextualClient.graphql(query, variables, opts);\n        },\n    };\n}\nexport function contextualizeHostModule(hostModule, prop) {\n    return (...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(hostModule)[prop].apply(undefined, args);\n    };\n}\nexport function contextualizeRESTModule(restModule, expectedArgsLength) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context\n            .initWixModules(restModule, args[expectedArgsLength]?.suppressAuth ? true : false)\n            .apply(undefined, args);\n    });\n}\nexport function contextualizeEventDefinitionModule(eventDefinition) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(eventDefinition).apply(undefined, args);\n    });\n}\nexport function contextualizeSerivcePluginModule(servicePlugin) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(servicePlugin).apply(undefined, args);\n    });\n}\nexport * from './context-v2.js';\nexport function runWithoutContext(fn) {\n    const globalContext = globalThis.__wix_context__;\n    const moduleContext = {\n        client: wixContext.client,\n        elevatedClient: wixContext.elevatedClient,\n    };\n    let closureContext;\n    globalThis.__wix_context__ = undefined;\n    wixContext.client = undefined;\n    wixContext.elevatedClient = undefined;\n    if (typeof $wixContext !== 'undefined') {\n        closureContext = {\n            client: $wixContext?.client,\n            elevatedClient: $wixContext?.elevatedClient,\n        };\n        delete $wixContext.client;\n        delete $wixContext.elevatedClient;\n    }\n    try {\n        return fn();\n    }\n    finally {\n        globalThis.__wix_context__ = globalContext;\n        wixContext.client = moduleContext.client;\n        wixContext.elevatedClient = moduleContext.elevatedClient;\n        if (typeof $wixContext !== 'undefined') {\n            $wixContext.client = closureContext.client;\n            $wixContext.elevatedClient = closureContext.elevatedClient;\n        }\n    }\n}\n","import { EventDefinition, ServicePluginDefinition, } from '@wix/sdk-types';\nimport { resolveContext } from './context.js';\nexport { EventDefinition, ServicePluginDefinition, };\nexport function contextualizeHostModuleV2(hostModule, props) {\n    return {\n        ...hostModule,\n        ...Object.fromEntries(props.map((prop) => [\n            prop,\n            (...args) => {\n                const context = resolveContext();\n                if (!context) {\n                    throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n                }\n                return context\n                    .initWixModules(hostModule)[prop].apply(undefined, args);\n            },\n        ])),\n    };\n}\nexport function contextualizeRESTModuleV2(restModule, elevated) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // @ts-expect-error - if there is no context, we want to behave like the original module\n            return restModule.apply(undefined, args);\n        }\n        return (context\n            .initWixModules(restModule, elevated)\n            // @ts-expect-error - we know the args here are meant to be passed to the initalized module\n            .apply(undefined, args));\n    });\n}\nexport function contextualizeEventDefinitionModuleV2(eventDefinition) {\n    const contextualMethod = ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // this line should throw, but this would be a breaking change for older SDK versions\n            // this is because in wixClient there's code that calls any function it detects and checks\n            // if it's an ambassador module (see isAmbassadorModule)\n            return () => { };\n        }\n        return context.initWixModules(eventDefinition).apply(undefined, args);\n    });\n    contextualMethod.__type = eventDefinition.__type;\n    contextualMethod.type = eventDefinition.type;\n    contextualMethod.isDomainEvent = eventDefinition.isDomainEvent;\n    contextualMethod.transformations = eventDefinition.transformations;\n    return contextualMethod;\n}\nexport function contextualizeSerivcePluginModuleV2(servicePlugin) {\n    const contextualMethod = ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // this line should throw, but this would be a breaking change for older SDK versions\n            // this is because in wixClient there's code that calls any function it detects and checks\n            // if it's an ambassador module (see isAmbassadorModule)\n            return () => { };\n        }\n        return context.initWixModules(servicePlugin).apply(undefined, args);\n    });\n    contextualMethod.__type = servicePlugin.__type;\n    contextualMethod.componentType = servicePlugin.componentType;\n    contextualMethod.methods = servicePlugin.methods;\n    return contextualMethod;\n}\n","import { contextualizeSerivcePluginModuleV2 } from './context-v2.js';\nexport function createServicePluginModule(servicePluginDefinition) {\n    return contextualizeSerivcePluginModuleV2(servicePluginDefinition);\n}\n","import { WIX_PROTOCOL } from './constants.js';\nexport function alignIfLegacy(url, type) {\n    const { protocol } = new URL(url);\n    return protocol === `${type}:` ? `${WIX_PROTOCOL}${url}` : url;\n}\nexport function removeUndefinedKeys(obj) {\n    return Object.fromEntries(Object.entries(obj).filter(([, value]) => value !== undefined));\n}\nexport function constantCase(input) {\n    return split(input)\n        .map((part) => part.toLocaleUpperCase())\n        .join('_');\n}\nconst SPLIT_LOWER_UPPER_RE = /([\\p{Ll}\\d])(\\p{Lu})/gu;\nconst SPLIT_UPPER_UPPER_RE = /(\\p{Lu})([\\p{Lu}][\\p{Ll}])/gu;\nconst SPLIT_REPLACE_VALUE = '$1\\0$2';\nconst DEFAULT_STRIP_REGEXP = /[^\\p{L}\\d]+/giu;\nexport function split(value) {\n    let result = value.trim();\n    result = result\n        .replace(SPLIT_LOWER_UPPER_RE, SPLIT_REPLACE_VALUE)\n        .replace(SPLIT_UPPER_UPPER_RE, SPLIT_REPLACE_VALUE);\n    result = result.replace(DEFAULT_STRIP_REGEXP, '\\0');\n    let start = 0;\n    let end = result.length;\n    // Trim the delimiter from around the output string.\n    while (result.charAt(start) === '\\0') {\n        start++;\n    }\n    if (start === end) {\n        return [];\n    }\n    while (result.charAt(end - 1) === '\\0') {\n        end--;\n    }\n    return result.slice(start, end).split(/\\0/g);\n}\n","import { removeUndefinedKeys } from '../utils.js';\nexport function transformSDKAddressToRESTAddress(payload) {\n    return (payload &&\n        removeUndefinedKeys({\n            city: payload.city,\n            subdivision: payload.subdivision,\n            country: payload.country,\n            postalCode: payload.postalCode,\n            formattedAddress: payload.formatted,\n            geocode: payload.location,\n            addressLine: payload.addressLine1,\n            addressLine2: payload.addressLine2,\n            streetAddress: payload.streetAddress && {\n                name: payload.streetAddress.name,\n                number: payload.streetAddress.number,\n                apt: payload.streetAddress.apt,\n            },\n        }));\n}\nexport function transformRESTAddressToSDKAddress(payload) {\n    return (payload &&\n        removeUndefinedKeys({\n            formatted: payload.formattedAddress,\n            location: payload.geocode,\n            addressLine1: payload.addressLine,\n            addressLine2: payload.addressLine2,\n            streetAddress: payload.streetAddress && {\n                name: payload.streetAddress.name,\n                number: payload.streetAddress.number,\n                apt: payload.streetAddress.apt,\n            },\n            city: payload.city,\n            subdivision: payload.subdivision,\n            country: payload.country,\n            postalCode: payload.postalCode,\n            countryFullname: payload.countryFullname,\n            subdivisionFullname: payload.subdivisionFullname,\n        }));\n}\n","import { ServicePluginDefinition } from '@wix/sdk-types';\nimport { transformRESTAddressToSDKAddress } from '@wix/sdk-runtime/transformations/address';\nimport { transformRESTFloatToSDKFloat } from '@wix/sdk-runtime/transformations/float';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\nimport { renameKeysFromSDKRequestToRESTRequest, renameKeysFromRESTResponseToSDKResponse, } from '@wix/sdk-runtime/rename-all-nested-keys';\nexport const provideHandlers = ServicePluginDefinition('ECOM_ADDITIONAL_FEES', [\n    {\n        name: 'calculateAdditionalFees',\n        primaryHttpMappingPath: '/v1/calculate-additional-fees',\n        transformations: {\n            toREST: (payload) => {\n                const toRestResponse = payload;\n                return renameKeysFromSDKRequestToRESTRequest(toRestResponse);\n            },\n            fromREST: (payload) => {\n                const fromRestRequest = transformPaths(payload, [\n                    {\n                        transformFn: transformRESTAddressToSDKAddress,\n                        paths: [\n                            { path: 'request.shippingAddress' },\n                            {\n                                path: 'request.shippingInfo.selectedCarrierServiceOption.logistics.pickupDetails.address',\n                            },\n                        ],\n                    },\n                    {\n                        transformFn: transformRESTFloatToSDKFloat,\n                        paths: [{ path: 'request.lineItems.physicalProperties.weight' }],\n                    },\n                ]);\n                return renameKeysFromRESTResponseToSDKResponse(fromRestRequest);\n            },\n        },\n    },\n]);\n//# sourceMappingURL=interfaces-ecommerce-v1-additional-fees-provider.public.js.map","import './interfaces-ecommerce-v1-additional-fees-provider.public.js';\nimport { createServicePluginModule } from '@wix/sdk-runtime/service-plugin-modules';\nimport { provideHandlers as publicProvideHandlers } from './interfaces-ecommerce-v1-additional-fees-provider.public.js';\nexport { publicProvideHandlers };\nexport const provideHandlers = createServicePluginModule(publicProvideHandlers);\n//# sourceMappingURL=interfaces-ecommerce-v1-additional-fees-provider.context.js.map","import { contextualizeRESTModuleV2 } from './context-v2.js';\nexport function createRESTModule(descriptor, elevated = false) {\n    return contextualizeRESTModuleV2(descriptor, elevated);\n}\nexport function toURLSearchParams(params, isComplexRequest) {\n    const flatten = flattenParams(params);\n    const searchParams = Object.entries(flatten).reduce((urlSearchParams, [key, value]) => {\n        // inorder to make `foo: [1,2]` turn into `foo=1&foo=2` and not `foo[]=1&foo[]=2`\n        const keyParams = Array.isArray(value) ? value : [value];\n        keyParams.forEach((param) => {\n            if (param === undefined || param === null) {\n                return;\n            }\n            urlSearchParams.append(key, param);\n        });\n        return urlSearchParams;\n    }, new URLSearchParams());\n    if (isComplexRequest) {\n        searchParams.append('.r', base64Encode(JSON.stringify(params)));\n    }\n    return searchParams;\n}\nexport function resolveUrl(opts) {\n    const domain = resolveDomain(opts.host);\n    const mappings = resolveMappingsByDomain(domain, opts.domainToMappings);\n    const path = injectDataIntoProtoPath(opts.protoPath, opts.data || {});\n    return resolvePathFromMappings(path, mappings);\n}\nfunction flattenParams(data, path = '') {\n    const params = {};\n    Object.entries(data).forEach(([key, value]) => {\n        const isObject = value !== null && typeof value === 'object' && !Array.isArray(value);\n        const fieldPath = resolvePath(path, key);\n        if (isObject) {\n            const serializedObject = flattenParams(value, fieldPath);\n            Object.assign(params, serializedObject);\n        }\n        else {\n            params[fieldPath] = value;\n        }\n    });\n    return params;\n}\nfunction resolvePath(path, key) {\n    return `${path}${path ? '.' : ''}${key}`;\n}\nconst base64Encode = (value) => {\n    const base64 = typeof btoa !== 'undefined'\n        ? btoa(value)\n        : Buffer.from(value, 'utf-8').toString('base64');\n    return base64.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nconst DOMAINS = ['wix.com', 'editorx.com'];\nconst USER_DOMAIN = '_';\nconst REGEX_CAPTURE_DOMAINS = new RegExp(`\\\\.(${DOMAINS.join('|')})$`);\nconst WIX_API_DOMAINS = ['42.wixprod.net', 'uw2-edt-1.wixprod.net'];\nconst DEV_WIX_CODE_DOMAIN = 'dev.wix-code.com';\nconst REGEX_CAPTURE_PROTO_FIELD = /{(.*)}/;\nconst REGEX_CAPTURE_API_DOMAINS = new RegExp(`\\\\.(${WIX_API_DOMAINS.join('|')})$`);\nconst REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN = new RegExp(`.*\\\\.${DEV_WIX_CODE_DOMAIN}$`);\nfunction resolveDomain(host) {\n    const resolvedHost = fixHostExceptions(host);\n    return resolvedHost\n        .replace(REGEX_CAPTURE_DOMAINS, '._base_domain_')\n        .replace(REGEX_CAPTURE_API_DOMAINS, '._api_base_domain_')\n        .replace(REGEX_CAPTURE_DEV_WIX_CODE_DOMAIN, '*.dev.wix-code.com');\n}\n// hosts which standard string replacing doesn't apply to them, will be fixed here.\nfunction fixHostExceptions(host) {\n    // https://system-kb.wixanswers.com/kb/en/article/editorx-domains-matching-to-wixcom\n    return host.replace('create.editorx.com', 'editor.editorx.com');\n}\nfunction resolveMappingsByDomain(domain, domainToMappings) {\n    const mappings = domainToMappings[domain] || domainToMappings[USER_DOMAIN];\n    if (!mappings) {\n        if (isBaseDomain(domain)) {\n            // fallback <lang>.wix.com sub domains to www.wix.com\n            // since all of the languages subdomain are not mapped automatically in FP and we want to support those kind of calls\n            // for example: fr.wix.com\n            return domainToMappings[wwwBaseDomain];\n        }\n    }\n    return mappings;\n}\nfunction isBaseDomain(domain) {\n    return !!domain.match(/\\._base_domain_$/);\n}\nconst wwwBaseDomain = 'www._base_domain_';\nfunction injectDataIntoProtoPath(protoPath, data) {\n    return protoPath\n        .split('/')\n        .map((path) => maybeProtoPathToData(path, data))\n        .join('/');\n}\nfunction maybeProtoPathToData(protoPath, data) {\n    const protoRegExpMatch = protoPath.match(REGEX_CAPTURE_PROTO_FIELD) || [];\n    const field = protoRegExpMatch[1];\n    if (field) {\n        const suffix = protoPath.replace(protoRegExpMatch[0], '');\n        return findByPath(data, field, protoPath, suffix);\n    }\n    return protoPath;\n}\nfunction findByPath(obj, path, defaultValue, suffix) {\n    let result = obj;\n    for (const field of path.split('.')) {\n        if (!result) {\n            return defaultValue;\n        }\n        result = result[field];\n    }\n    return `${result}${suffix}`;\n}\nfunction resolvePathFromMappings(protoPath, mappings) {\n    const mapping = mappings?.find((m) => protoPath.startsWith(m.destPath));\n    if (!mapping) {\n        // todo: should we return the path? if no - what should we do in case of testings?\n        return protoPath;\n    }\n    return mapping.srcPath + protoPath.slice(mapping.destPath.length);\n}\n","import { createRESTModule } from '@wix/sdk-runtime/rest-modules';\nexport const fetchWithAuth = createRESTModule((restModuleOpts) => {\n    return ((url, options) => restModuleOpts.fetchWithAuth(url, options));\n});\nexport const graphql = createRESTModule(((restModuleOpts) => {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    return async function graphql(query, variables, opts = {\n        apiVersion: 'alpha',\n    }) {\n        const result = await restModuleOpts.request(({ host }) => {\n            const basePath = host === 'www.wixapis.com' ? '/graphql' : '/_api/graphql';\n            return {\n                method: 'POST',\n                url: `${basePath}/${opts.apiVersion}`,\n                data: { query, variables },\n                packageName: '@wix/essentials',\n            };\n        });\n        return result.data;\n    };\n}));\n","// import { additionalFees } from \"@wix/ecom/service-plugins\";\n// import { httpClient, auth } from \"@wix/essentials\";\n\n// console.log(\"ðŸš€ Plugin is starting...\");\n\n// async function getInstanceId() {\n//   try {\n//     const response = await httpClient.fetchWithAuth(\n//       `${import.meta.env.BASE_API_URL}/instance-id-api`\n//     );\n\n//     if (!response.ok) throw new Error(\"Failed to fetch instance ID\");\n//     const data = await response.json();\n//     console.log(\"Received instance ID: \", data.instanceId);\n//     return data.instanceId;\n//   } catch (error) {\n//     console.error(\"Error fetching instance ID:\", error);\n//     return null; // Return null if instance ID fetch fails\n//   }\n// }\n\n// async function getPackagingFee(instanceId: any) {\n//   try {\n//     const response = await httpClient.fetchWithAuth(\n//       `${import.meta.env.BASE_API_URL}/packaging-fee-api`,\n//       {\n//         headers: {\n//           \"X-Instance-Id\": instanceId, // Include instanceId in headers\n//         },\n//       }\n//     );\n\n//     if (!response.ok) throw new Error(\"Failed to fetch packaging fee\");\n//     const data = await response.json();\n//     console.log(\"Received packaging fee: \", data.fee);\n//     return parseFloat(data.fee); // Default to 10 if invalid\n//   } catch (error) {\n//     console.error(\"Error fetching packaging fee:\", error);\n//     return 10; // Fallback value\n//   }\n// }\n\n// additionalFees.provideHandlers({\n//   calculateAdditionalFees: async ({ metadata }) => {\n//     const currency = metadata?.currency || \"ILS\"; // Default to ILS if not found\n//     const instanceId = await getInstanceId(); // Fetch instance ID\n\n//     if (!instanceId) {\n//       console.error(\"Instance ID is required for authentication.\");\n//       return { additionalFees: [], currency };\n//     }\n\n//     const packagingFee = await getPackagingFee(instanceId);\n\n//     console.log(`Applying packaging fee: ${packagingFee} ${currency}`);\n\n//     return {\n//       additionalFees: [\n//         {\n//           code: \"packaging-fee\",\n//           name: \"Packaging Fee\",\n//           price: packagingFee.toString(),\n//           taxDetails: {\n//             taxable: true,\n//           },\n//         },\n//       ],\n//       currency: currency,\n//     };\n//   },\n// });\n\n// import { additionalFees } from \"@wix/ecom/service-plugins\";\n// import { httpClient, auth } from \"@wix/essentials\";\n\n// console.log(\"ðŸš€ Plugin is starting...\");\n\n// export async function getPackagingFee(instanceId: string) {\n//   try {\n//     const response = await httpClient.fetchWithAuth(\n//       `${import.meta.env.BASE_API_URL}/packaging-fee-api`,\n//       {\n//         headers: {\n//           \"X-Instance-Id\": instanceId, // Include instanceId in headers\n//         },\n//       }\n//     );\n\n//     if (!response.ok) throw new Error(\"Failed to fetch packaging fee\");\n//     const data = await response.json();\n//     console.log(\"Received packaging fee of \", data.fee);\n//     return parseFloat(data.fee); // Default to 10 if invalid\n//   } catch (error) {\n//     console.error(\"Error fetching packaging fee:\", error);\n//     return 10; // Fallback value\n//   }\n// }\n\n// additionalFees.provideHandlers({\n//   calculateAdditionalFees: async ({ metadata }) => {\n//     const currency = metadata?.currency || \"ILS\"; // Default to ILS if not found\n//     const instanceId = metadata?.instanceId; // Ensure instanceId is available\n\n//     if (!instanceId) {\n//       console.error(\"Instance ID is required for authentication.\");\n//       return { additionalFees: [], currency };\n//     }\n\n//     const packagingFee = await getPackagingFee(instanceId);\n\n//     console.log(`Applying packaging fee: ${packagingFee} ${currency}`);\n\n//     return {\n//       additionalFees: [\n//         {\n//           code: \"packaging-fee\",\n//           name: \"Packaging Fee\",\n//           price: packagingFee.toString(),\n//           taxDetails: {\n//             taxable: true,\n//           },\n//         },\n//       ],\n//       currency: currency,\n//     };\n//   },\n// });\n\nimport { additionalFees } from \"@wix/ecom/service-plugins\";\nimport { httpClient, auth } from \"@wix/essentials\";\n//import { createClient, ApiKeyStrategy } from \"@wix/sdk\";\n//import dotenv from \"dotenv\";\n//dotenv.config();\n\nconsole.log(\"ðŸš€ Plugin is starting...\");\n\n// const response = await httpClient.fetchWithAuth(\n//   // `${import.meta.env.BASE_API_URL}/packaging-fee-api`\n//   `${import.meta.env.BASE_API_URL}/packaging-fee-api` //VITE_?\n// );\n//console.log(\"current packaging fee, \", response);\n\n// const apiKey = import.meta.env.VITE_API_KEY;\n// const accountId = import.meta.env.VITE_ACCOUNT_ID;\n\n// if (!apiKey || !accountId) {\n//   throw new Error(\n//     \"API_KEY and ACCOUNT_ID must be defined in environment variables.\"\n//   );\n// }\n\n// const wixClient = createClient({\n//   auth: ApiKeyStrategy({\n//     apiKey,\n//     accountId,\n//   }),\n//   modules: {\n//     // Include any additional modules you need\n//   },\n// });\n\nexport async function getPackagingFee() {\n  try {\n    const response = await httpClient.fetchWithAuth(\n      `${import.meta.env.BASE_API_URL}/packaging-fee-api` //VITE_?\n    );\n\n    if (!response.ok) throw new Error(\"Failed to fetch packaging fee\");\n    const data = await response.json();\n    console.log(\"received packaging fee of \", data.fee);\n    return parseFloat(data.fee); // Default to 10 if invalid\n  } catch (error) {\n    console.error(\"Error fetching packaging fee:\", error);\n    return 10; // Fallback value\n  }\n}\n\nadditionalFees.provideHandlers({\n  calculateAdditionalFees: async ({ metadata }) => {\n    const currency = metadata?.currency || \"ILS\"; // Default to ILS if not found\n    const packagingFee = await getPackagingFee();\n\n    console.log(`Applying packaging fee: ${packagingFee} ${currency}`);\n\n    return {\n      additionalFees: [\n        {\n          code: \"packaging-fee\",\n          name: \"Packaging Fee\",\n          price: packagingFee.toString(),\n          taxDetails: {\n            taxable: true,\n          },\n        },\n      ],\n      currency: currency,\n    };\n  },\n});\n"],"names":["provideHandlers","publicProvideHandlers","httpClient.fetchWithAuth","additionalFees.provideHandlers"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}